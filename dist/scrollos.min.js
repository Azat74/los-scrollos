/*
 *  Los Scrollos - v1.0.0
 *  Simple jQuery plugins for scrolling overflow content.
 *  https://github.com/azhsetiawan/los-scrollos
 *
 *  Azh Setiawan
 *  Under MIT License
 */
!function(t,n,e,i){"use strict";void 0!==i&&(i=void 0);var l="Scrollos",o=".scrollos",r={scrollTravelling:!1,scrollDirection:"",scrollDistance:100};function s(n,e){this.element=n,this.$element=t(n),this.container=this.$element.find(".scrollos-container")[0],this.$container=this.$element.find(".scrollos-container"),this.content=this.$element.find(".scrollos-content")[0],this.$content=this.$element.find(".scrollos-content"),this.settings=t.extend({},r,e),this._defaults=r,this._name=l,this.init()}t.extend(s.prototype,{init:function(){this.updateOverflow(),this.bindScroll(),this.bindClick(),this.afterScroll()},getClientRect:function(n){var e={},i=t(n);return e.left=i.offset().left,e.right=i.offset().left+i.outerWidth(),e},determineOverflow:function(t,n){var e=this.getClientRect(t),i=Math.floor(e.right),l=Math.floor(e.left),o=this.getClientRect(n),r=Math.floor(o.right),s=Math.floor(o.left);return l>s&&i<r?"both":s<l?"left":r>i?"right":"none"},updateOverflow:function(){this.container.setAttribute("data-overflowing",this.determineOverflow(this.container,this.content))},clickHandler:function(t,n,e){var i=this._defaults.scrollDistance;if(!0!==this._defaults.scrollTravelling){if("none"!==this.determineOverflow(t,n)){if("left"===e){var l=t.scrollLeft;n.style.transform=l>1.5*i?"translateX("+i+"px)":"translateX("+l+"px)"}if("right"===e){var o=n.getBoundingClientRect().right,r=t.getBoundingClientRect().right,s=Math.floor(o-r);n.style.transform=s>1.5*i?"translateX(-"+i+"px)":"translateX(-"+s+"px)"}n.classList.remove("-no-transition"),this._defaults.scrollDirection=e,this._defaults.scrollTravelling=!0}this.updateOverflow()}},bindClick:function(){var t=this;t.$element.on("click"+o,".scrollos-prev",function(){t.clickHandler.call(t,t.container,t.content,"left")}),t.$element.on("click"+o,".scrollos-next",function(){t.clickHandler.call(t,t.container,t.content,"right")})},bindScroll:function(){var t=this,e=!1;t.$container.on("scroll"+o,function(){e||n.requestAnimationFrame(function(){t.updateOverflow.call(t),e=!1}),e=!0})},afterScroll:function(){var t=this;t.content.addEventListener("transitionend",function(){var e=n.getComputedStyle(t.content,null),i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform"),l=Math.abs(parseInt(i.split(",")[4])||0);t.content.style.transform="none",t.content.classList.add("-no-transition"),"left"===t._defaults.scrollDirection?t.container.scrollLeft=t.container.scrollLeft-l:t.container.scrollLeft=t.container.scrollLeft+l,t._defaults.scrollTravelling=!1},!1)}}),t.fn[l]=function(n){return this.each(function(){t.data(this,"plugin_"+l)||t.data(this,"plugin_"+l,new s(this,n))})}}(jQuery,window,document);